# ðŸ“š GLOSSÃRIO CORPORATIVO STRAUMANN GROUP
# JargÃµes e termos internos da empresa

GLOSSARIO_CORPORATIVO = {
    # Sistemas e Ferramentas
    "SAP": "Sistema integrado de gestÃ£o empresarial usado para RH, FinanÃ§as e OperaÃ§Ãµes",
    "TOTVS": "Sistema ERP brasileiro utilizado para gestÃ£o de recursos humanos e folha de pagamento",
    "Salesforce": "CRM (Customer Relationship Management) usado pela equipe comercial",
    "Confluence": "Ferramenta de documentaÃ§Ã£o e wiki interna da empresa",
    "Jira": "Sistema de gestÃ£o de projetos e tickets de TI",
    "ServiceNow": "Plataforma de service desk para abertura de chamados",
    "Workday": "Sistema de RH para gestÃ£o de talentos e performance",
    "OneNote": "Ferramenta Microsoft para anotaÃ§Ãµes compartilhadas",
    "SharePoint": "Plataforma Microsoft para compartilhamento de documentos",
    
    # Ãreas e Departamentos
    "GBS": "Global Business Services - Centro de serviÃ§os compartilhados",
    "SSC": "Shared Services Center - Mesmo que GBS",
    "COE": "Center of Excellence - Centro de excelÃªncia em determinada Ã¡rea",
    "TA": "Talent Acquisition - Equipe de recrutamento e seleÃ§Ã£o",
    "L&D": "Learning & Development - Ãrea de treinamento e desenvolvimento",
    "C&B": "Compensation & Benefits - RemuneraÃ§Ã£o e benefÃ­cios",
    "BP": "Business Partner - Parceiro de negÃ³cios (geralmente RH ou TI)",
    "HRBP": "Human Resources Business Partner - BP de RH",
    
    # Processos e PolÃ­ticas
    "PPR": "Programa de ParticipaÃ§Ã£o nos Resultados - BÃ´nus anual baseado em metas",
    "PDI": "Plano de Desenvolvimento Individual - Planejamento de carreira do colaborador",
    "AvaliaÃ§Ã£o 360": "Processo de avaliaÃ§Ã£o de desempenho com feedback de mÃºltiplas fontes",
    "Onboarding": "Processo de integraÃ§Ã£o de novos colaboradores",
    "Offboarding": "Processo de desligamento de colaboradores",
    "Check-in": "ReuniÃ£o periÃ³dica entre gestor e liderado sobre performance",
    "Nine Box": "Ferramenta de avaliaÃ§Ã£o de potencial vs performance",
    "Talent Review": "ReuniÃ£o de calibraÃ§Ã£o de talentos e sucessÃ£o",
    
    # BenefÃ­cios EspecÃ­ficos
    "Vale-alimentaÃ§Ã£o": "BenefÃ­cio mensal para compra de alimentos (cartÃ£o Alelo/Sodexo)",
    "Vale-refeiÃ§Ã£o": "BenefÃ­cio para refeiÃ§Ãµes em restaurantes",
    "Plano OdontolÃ³gico": "ConvÃªnio odontolÃ³gico SulAmÃ©rica para colaboradores e dependentes",
    "Gympass": "Plataforma de academias e bem-estar com desconto corporativo",
    "TotalPass": "Mesma funÃ§Ã£o do Gympass, alternativa de academias",
    "AuxÃ­lio Creche": "Reembolso parcial de despesas com creche para filhos atÃ© 5 anos",
    "Seguro de Vida": "Seguro de vida em grupo para todos os colaboradores",
    "PLR": "ParticipaÃ§Ã£o nos Lucros e Resultados - Mesmo que PPR",
    
    # Tecnologia e Infraestrutura
    "VDI": "Virtual Desktop Infrastructure - Desktop virtual acessado remotamente",
    "VPN": "Virtual Private Network - Rede privada para acesso remoto seguro",
    "MFA": "Multi-Factor Authentication - AutenticaÃ§Ã£o de mÃºltiplos fatores (mesmo que 2FA)",
    "SSO": "Single Sign-On - Login Ãºnico para mÃºltiplos sistemas",
    "Active Directory": "AD - Sistema de autenticaÃ§Ã£o e controle de usuÃ¡rios Microsoft",
    "Azure AD": "Active Directory na nuvem Azure",
    "Endpoint": "Dispositivo final (computador, notebook, celular) conectado Ã  rede",
    "Asset": "Ativo de TI (equipamento, licenÃ§a, dispositivo)",
    
    # Compliance e SeguranÃ§a
    "LGPD": "Lei Geral de ProteÃ§Ã£o de Dados - Lei brasileira de privacidade",
    "GDPR": "General Data Protection Regulation - Lei europeia de privacidade de dados",
    "SOX": "Sarbanes-Oxley - Lei americana de compliance financeiro",
    "ISO 27001": "Norma internacional de seguranÃ§a da informaÃ§Ã£o",
    "PCI-DSS": "Payment Card Industry Data Security Standard - PadrÃ£o de seguranÃ§a para cartÃµes",
    "DPO": "Data Protection Officer - Encarregado de proteÃ§Ã£o de dados (LGPD)",
    
    # MÃ©dico e SaÃºde
    "ASO": "Atestado de SaÃºde Ocupacional - Exame admissional/periÃ³dico/demissional",
    "PCMSO": "Programa de Controle MÃ©dico de SaÃºde Ocupacional",
    "PPRA": "Programa de PrevenÃ§Ã£o de Riscos Ambientais",
    "CIPA": "ComissÃ£o Interna de PrevenÃ§Ã£o de Acidentes",
    "CAT": "ComunicaÃ§Ã£o de Acidente de Trabalho",
    "Atestado MÃ©dico": "Documento que justifica ausÃªncia por motivo de saÃºde",
    
    # FÃ©rias e AusÃªncias
    "FÃ©rias Coletivas": "PerÃ­odo de recesso em que toda empresa ou setor para (geralmente fim de ano)",
    "Banco de Horas": "Sistema de compensaÃ§Ã£o de horas extras trabalhadas",
    "Abono PecuniÃ¡rio": "Venda de 10 dias das fÃ©rias (conversÃ£o em dinheiro)",
    "LicenÃ§a Maternidade": "Afastamento de 120-180 dias para mÃ£es apÃ³s nascimento",
    "LicenÃ§a Paternidade": "Afastamento de 5-20 dias para pais apÃ³s nascimento",
    
    # Cargos e Hierarquia
    "C-Level": "Executivos de alto escalÃ£o (CEO, CFO, CTO, CHRO, etc)",
    "Director": "Diretor - NÃ­vel executivo abaixo de VP",
    "VP": "Vice-Presidente - NÃ­vel executivo alto",
    "Manager": "Gerente - Lidera equipes e projetos",
    "Coordinator": "Coordenador - Coordena processos e pequenas equipes",
    "Specialist": "Especialista - Profissional tÃ©cnico sÃªnior",
    "Analyst": "Analista - Profissional de nÃ­vel mÃ©dio",
    "Assistant": "Assistente - Profissional de nÃ­vel jÃºnior",
    
    # Projetos e Iniciativas
    "POC": "Proof of Concept - Prova de conceito, teste de viabilidade",
    "MVP": "Minimum Viable Product - Produto mÃ­nimo viÃ¡vel",
    "Rollout": "ImplantaÃ§Ã£o/lanÃ§amento de sistema ou processo",
    "Go-Live": "Data de entrada em produÃ§Ã£o de um sistema",
    "UAT": "User Acceptance Testing - Teste de aceitaÃ§Ã£o do usuÃ¡rio",
    "Kickoff": "ReuniÃ£o inicial de projeto",
    "Milestone": "Marco importante de projeto",
    "Deliverable": "Entrega, resultado esperado de projeto",
    
    # Termos Operacionais
    "Timesheet": "Folha de ponto, registro de horas trabalhadas",
    "Headcount": "NÃºmero de colaboradores, contagem de pessoal",
    "Budget": "OrÃ§amento anual de departamento",
    "Forecast": "PrevisÃ£o, projeÃ§Ã£o de resultados",
    "P&L": "Profit & Loss - Demonstrativo de resultados",
    "CapEx": "Capital Expenditure - Investimento em ativos permanentes",
    "OpEx": "Operational Expenditure - Despesas operacionais",
    
    # ComunicaÃ§Ã£o Interna
    "All-Hands": "ReuniÃ£o geral com todos os colaboradores",
    "Town Hall": "Mesmo que All-Hands, reuniÃ£o ampla",
    "Skip Level": "ReuniÃ£o entre colaborador e gestor do gestor (pula um nÃ­vel)",
    "1:1": "One-on-one - ReuniÃ£o individual entre gestor e liderado",
    "Standup": "ReuniÃ£o rÃ¡pida diÃ¡ria de alinhamento (geralmente em pÃ©)",
    "Retrospectiva": "ReuniÃ£o de anÃ¡lise de sprint/projeto passado",
    
    # Cultura e Valores
    "Core Values": "Valores fundamentais da empresa",
    "Employee Engagement": "Engajamento dos colaboradores",
    "Employer Branding": "Marca empregadora, reputaÃ§Ã£o como empregador",
    "EVP": "Employee Value Proposition - Proposta de valor ao empregado",
    "Culture Fit": "AderÃªncia cultural do candidato/colaborador aos valores",
    
    # Tecnologia EspecÃ­fica
    "API Gateway": "Ponto central de gerenciamento de APIs",
    "Microservices": "Arquitetura de software em pequenos serviÃ§os independentes",
    "DevOps": "Metodologia de desenvolvimento e operaÃ§Ãµes integradas",
    "CI/CD": "Continuous Integration/Continuous Deployment - IntegraÃ§Ã£o e deploy contÃ­nuos",
    "Kubernetes": "K8s - Plataforma de orquestraÃ§Ã£o de containers",
    "Docker": "Tecnologia de containerizaÃ§Ã£o de aplicaÃ§Ãµes",
}


def get_termo_corporativo(termo: str) -> str:
    """
    Busca a definiÃ§Ã£o de um termo corporativo
    
    Args:
        termo: Termo a ser buscado (case-insensitive)
    
    Returns:
        DefiniÃ§Ã£o do termo ou None se nÃ£o encontrado
    """
    termo_upper = termo.upper()
    
    # Busca exata
    if termo_upper in GLOSSARIO_CORPORATIVO:
        return GLOSSARIO_CORPORATIVO[termo_upper]
    
    # Busca case-insensitive nas chaves
    for key, value in GLOSSARIO_CORPORATIVO.items():
        if key.upper() == termo_upper:
            return value
    
    return None


def get_contexto_glossario() -> str:
    """
    Retorna contexto formatado do glossÃ¡rio para incluir em prompts
    
    Returns:
        String formatada com principais termos corporativos
    """
    principais_termos = [
        "SAP", "TOTVS", "GBS", "PPR", "PDI", "VDI", "VPN", 
        "LGPD", "ASO", "Gympass", "HRBP", "SSO", "Onboarding"
    ]
    
    contexto = "**GLOSSÃRIO CORPORATIVO STRAUMANN:**\n"
    for termo in principais_termos:
        definicao = get_termo_corporativo(termo)
        if definicao:
            contexto += f"- {termo}: {definicao}\n"
    
    return contexto


def enriquecer_prompt_com_glossario(prompt_base: str, termos_detectados: list = None) -> str:
    """
    Enriquece um prompt com definiÃ§Ãµes de termos corporativos
    
    Args:
        prompt_base: Prompt original
        termos_detectados: Lista de termos encontrados na pergunta
    
    Returns:
        Prompt enriquecido com glossÃ¡rio
    """
    if not termos_detectados:
        return prompt_base
    
    glossario_relevante = "\n**TERMOS CORPORATIVOS NA PERGUNTA:**\n"
    for termo in termos_detectados:
        definicao = get_termo_corporativo(termo)
        if definicao:
            glossario_relevante += f"- {termo}: {definicao}\n"
    
    return f"{prompt_base}\n\n{glossario_relevante}"


def detectar_termos_corporativos(texto: str) -> list:
    """
    Detecta termos corporativos presentes em um texto
    
    Args:
        texto: Texto a ser analisado
    
    Returns:
        Lista de termos corporativos encontrados
    """
    termos_encontrados = []
    texto_upper = texto.upper()
    
    for termo in GLOSSARIO_CORPORATIVO.keys():
        # Busca palavra completa (evita matches parciais)
        if f" {termo.upper()} " in f" {texto_upper} " or \
           texto_upper.startswith(f"{termo.upper()} ") or \
           texto_upper.endswith(f" {termo.upper()}"):
            termos_encontrados.append(termo)
    
    return termos_encontrados
